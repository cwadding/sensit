  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "topic_id"=>3, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (40.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (43.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (43.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (39.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (40.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.6ms)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.6ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 44ms (Views: 36.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 28ms (Views: 20.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 48ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:20:21 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 25ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:20:21 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 56ms (Views: 32.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 60ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:22 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.4ms)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 51ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 18ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 8ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 43ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:20:38 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 45ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 8ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 13ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 52ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:07 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.2ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 13ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 67ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:22:48 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 12ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 44ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:23:22 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 57ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:23:23 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.2ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 43ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 44ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:24:55 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 51ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:26:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 86ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:26:06 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foobar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.4ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 57ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 9ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/3?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 54ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:27:30 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"3", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 43ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:05 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:06 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:06 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"3", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 43ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 10ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:29:42 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"3", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"3"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:31:03 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 43ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:23 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:31:24 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 51ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 15ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 45ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:32:16 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 44ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:32:27 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:01 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 50ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:33:02 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 42ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 4ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 44ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:33:30 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131207174742')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"id"=>"3", "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/percolator/app/views/sensit/percolators/show.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest1", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest2", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest3", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"percolator"=>{"type"=>"test_type", "id"=>"mytest", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>4, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>5, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>6, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>7, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"id"=>8, "percolator"=>{"body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "api_version"=>1}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>9, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"id"=>10, "api_version"=>1}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:35:02 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"foo", "body"=>{"query"=>{"query_string"=>{"query"=>"foo"}}}}, "topic_id"=>"1"}
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/percolators" for 127.0.0.1 at 2013-12-22 23:35:02 -0500
Processing by Sensit::PercolatorsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"bar", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"1"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/test_type/percolators/3" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"3"}
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/percolators/1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type"}
Unpermitted parameters: use_route, format, api_version, topic_id
Completed 200 OK in 12ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/foo?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"foo"}
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/test_type/percolators/bar?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"test_type", "id"=>"bar"}
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 50ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/percolators/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/5" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"5", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"5"}
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started PUT "/api/topics/test_type/percolators/6" for 127.0.0.1 at 2013-12-22 23:35:03 -0500
Processing by Sensit::PercolatorsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "percolator"=>{"id"=>"6", "body"=>{"query"=>{"query_string"=>{"query"=>"bar"}}}}, "topic_id"=>"test_type", "id"=>"6"}
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
