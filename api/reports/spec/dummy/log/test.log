  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 18:28:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.2ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sat, 07 Dec 2013 19:19:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (5.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.5ms)
Completed 200 OK in 48ms (Views: 45.5ms | ActiveRecord: 0.0ms)
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:01:55 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "MyTopic"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Sun, 08 Dec 2013 16:03:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (39.0ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 104ms (Views: 102.2ms | ActiveRecord: 0.0ms)
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"1", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "MyTopic"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["topic_id", 1], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"1", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["updated_at", Fri, 20 Dec 2013 01:37:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_datatypes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "datatype_id" integer, "group_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131207182742')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045656')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045919')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425050226')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:47:01 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[35mSensit::Topic Load (0.4ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
SQLite3::SQLException: no such column: sensit_topics.slug: SELECT  "sensit_topics".* FROM "sensit_topics"  WHERE "sensit_topics"."slug" = '1'  ORDER BY "sensit_topics"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:47:01 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.3ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
SQLite3::SQLException: no such column: sensit_topics.slug: SELECT  "sensit_topics".* FROM "sensit_topics"  WHERE "sensit_topics"."slug" = '1'  ORDER BY "sensit_topics"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:47:01 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.3ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
SQLite3::SQLException: no such column: sensit_topic_reports.slug: SELECT  "sensit_topic_reports".* FROM "sensit_topic_reports"  WHERE "sensit_topic_reports"."slug" = '1'  ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:47:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
SQLite3::SQLException: no such column: sensit_topic_reports.slug: SELECT  "sensit_topic_reports".* FROM "sensit_topic_reports"  WHERE "sensit_topic_reports"."slug" = '1'  ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:47:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.3ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
SQLite3::SQLException: no such column: sensit_topic_reports.slug: SELECT  "sensit_topic_reports".* FROM "sensit_topic_reports"  WHERE "sensit_topic_reports"."slug" = '1'  ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 3ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:52:40 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:52:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["updated_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["updated_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["updated_at", Mon, 23 Dec 2013 04:52:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 3ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 3ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.3ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:54:15 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:54:16 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:54:16 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["updated_at", Mon, 23 Dec 2013 04:54:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 04:55:01 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 3ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started POST "/api/topics/1/reports" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = '1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/1/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:55:02 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["updated_at", Mon, 23 Dec 2013 04:55:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:13 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:59:14 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:59:14 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-22 23:59:14 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:59:14 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-22 23:59:14 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["updated_at", Mon, 23 Dec 2013 04:59:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 00:01:45 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (2.4ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 32ms (Views: 2.9ms | ActiveRecord: 3.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic5/reports/1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic6/reports/1" for 127.0.0.1 at 2013-12-23 00:01:46 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:01:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.5ms)
Completed 200 OK in 19ms (Views: 18.5ms | ActiveRecord: 0.0ms)
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:08 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 18ms (Views: 2.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0 ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = 0
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic5/reports/1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic6/reports/1" for 127.0.0.1 at 2013-12-23 00:02:09 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.5ms)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.2ms)
  [1m[35mSensit::Topic::Report Load (0.3ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 26ms (Views: 2.7ms | ActiveRecord: 1.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[35mSensit::Topic Load (0.3ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic5/reports/1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic5", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic6/reports/1" for 127.0.0.1 at 2013-12-23 00:04:15 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic6", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:04:15 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.1ms)
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (5.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (1.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 37ms (Views: 4.0ms | ActiveRecord: 7.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (1.5ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 00:05:23 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:05:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:05:24 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.4ms)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.2ms)
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (45.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.3ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 15ms (Views: 2.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 00:19:07 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 05:19:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 71ms (Views: 69.2ms | ActiveRecord: 0.2ms)
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (43.4ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 20ms (Views: 3.1ms | ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 3ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:00 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.3ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 13ms (Views: 1.5ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 09:33:01 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1
  [1m[36mSensit::Topic Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:33:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.4ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.1ms)
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.3ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:35 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 45ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 09:34:36 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 54ms (Views: 47.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.3ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 14:34:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_api_key_permission_restrictions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_permission_id" integer, "resource_type" varchar(255), "resource_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_api_key_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "access_methods_bitmask" integer, "source_ip" varchar(255), "referer" varchar(255), "minimum_interval" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_api_keys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "name" varchar(255), "access_token" varchar(255), "expires_at" datetime, "access_bitmask" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "key" varchar(255), "unit_id" integer, "topic_id" integer, "datatype" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topic_subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "host" varchar(255), "auth_token" varchar(255), "protocol" varchar(255), "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "api_key_id" integer, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_unit_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "sensit_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "abbr" varchar(255), "group_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131223045218')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425045656')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130425045919')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20130425050226')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131201021832')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.1ms)
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.3ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "arbitrary_string"], ["query", "--- {}\n"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'arbitrary_string' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports"
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:44 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 12:00:45 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1 AND "sensit_topics"."api_key_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 17:00:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131223200314')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131201021832')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 50ms (Views: 48.5ms | ActiveRecord: 0.2ms)
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "arbitrary_string"], ["query", "--- {}\n"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'arbitrary_string' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports"
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 15:04:47 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic2' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 15:04:47 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic3' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic4' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic5' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic6' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic8' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 15:04:48 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic9' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic10' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic11' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 20:04:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131223200314')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131201021832')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 90ms (Views: 88.3ms | ActiveRecord: 0.2ms)
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00], ["name", "arbitrary_string"], ["query", "--- {}\n"], ["updated_at", Mon, 23 Dec 2013 21:24:57 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'arbitrary_string' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports"
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic2' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic3' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic4' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic5' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic6' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic8' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 16:24:58 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (45.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic9' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic10' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic11' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:24:58 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131223200314')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131201021832')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 51ms (Views: 49.5ms | ActiveRecord: 0.2ms)
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00], ["name", "arbitrary_string"], ["query", "--- {}\n"], ["updated_at", Mon, 23 Dec 2013 21:41:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'arbitrary_string' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports"
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic2' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic3' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.2ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic4' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic5' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic6' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic7' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic8' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 16:41:10 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic9' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic10' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic11' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:41:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "sensit_topic_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "query" text, "topic_id" integer, "slug" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "sensit_topics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "slug" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131223200314')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131201021832')[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.2ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"topic_id"=>1, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  Rendered /Volumes/Media/cwadding/Repositories/sensit/api/reports/app/views/sensit/reports/index.v1.json.rabl (0.3ms)
Completed 200 OK in 48ms (Views: 46.4ms | ActiveRecord: 0.1ms)
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.0ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"MyString", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.0ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1  [["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "sensit_topic_reports" SET "updated_at" = ?, "query" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"id"=>"my-report", "topic_id"=>1, "report"=>{"name"=>"invalid value", "query"=>{"statistical"=>{"field"=>"num1"}}}, "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "sensit_topic_reports"[0m
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'mytopic' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'MyTopic' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "MyTopic"], ["slug", "mytopic"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'MyTopic' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"topic_id"=>1, "id"=>"my-report", "api_version"=>1}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "arbitrary_string"], ["query", "--- {}\n"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'arbitrary_string' LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports"
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'arbitrary_string' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSensit::Topic::Report Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" IS NULL AND "sensit_topic_reports"."topic_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00], ["name", "Topic1"], ["slug", "topic1"], ["updated_at", Mon, 23 Dec 2013 21:42:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/topics/topic1/reports" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic1"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic1' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.2ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic1' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 17ms (Views: 2.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic2' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic2"], ["slug", "topic2"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started POST "/api/topics/topic2/reports" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#create as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My Report", "query"=>{"statistical"=>{"field"=>"num1"}}}, "topic_id"=>"topic2"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic2' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic2' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "---\nstatistical:\n  field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "sensit_topic_reports"
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started DELETE "/api/topics/1/reports/1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#destroy as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic3' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic3"], ["slug", "topic3"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report1' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic3' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report1' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report1"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report1"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic3/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic3"}
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic3' ORDER BY "sensit_topics"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mSensit::Topic::Report Load (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?[0m  [["topic_id", 1]]
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic4' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic4"], ["slug", "topic4"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report2' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic4' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report2' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report2"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report2"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic4/reports?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#index as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic4"}
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic4' ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1  [["topic_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ? ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m  [["topic_id", 1]]
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."topic_id" = ?  [["topic_id", 1]]
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic5' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic5' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic5"], ["slug", "topic5"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report3' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic5' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report3' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report3"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report3"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/topics/topic5/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic5", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic6' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic6' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic6"], ["slug", "topic6"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report4' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic6' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report4' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report4"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report4"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/api/topics/topic6/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"topic6", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Started GET "/api/topics/1/reports/1?use_route=sensit_api&format=json&api_version=1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#show as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "topic_id"=>"1", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.0ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
Completed 404 Not Found in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic7' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic7' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic7"], ["slug", "topic7"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started PUT "/api/topics/topic7/reports/1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic7", "id"=>"1"}
  [1m[35mSensit::Topic::Report Load (0.2ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1
  [1m[36mSensit::Topic::Report Load (0.1ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Load (0.1ms)[0m  [1mSELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic7' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic8' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic8' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic8"], ["slug", "topic8"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'my-report' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My Report' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "My Report"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "my-report"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
Started PUT "/api/topics/topic8/reports/1" for 127.0.0.1 at 2013-12-23 16:42:28 -0500
Processing by Sensit::ReportsController#update as JSON
  Parameters: {"use_route"=>"sensit_api", "api_version"=>"1", "report"=>{"name"=>"My New Report", "query"=>{"statistical"=>{"field"=>"num2"}}}, "topic_id"=>"topic8", "id"=>"1"}
  [1m[36mSensit::Topic::Report Load (0.2ms)[0m  [1mSELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = '1' ORDER BY "sensit_topic_reports"."id" ASC LIMIT 1[0m
  [1m[35mSensit::Topic::Report Load (0.1ms)[0m  SELECT "sensit_topic_reports".* FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Load (0.1ms)[0m  SELECT "sensit_topics".* FROM "sensit_topics" WHERE "sensit_topics"."id" = ? ORDER BY "sensit_topics"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic8' AND "sensit_topics"."id" != 1) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'My New Report' AND "sensit_topic_reports"."id" != 1 AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "sensit_topic_reports" SET "name" = ?, "query" = ?, "updated_at" = ? WHERE "sensit_topic_reports"."id" = 1[0m  [["name", "My New Report"], ["query", "--- !ruby/hash:ActionController::Parameters\nstatistical: !ruby/hash:ActionController::Parameters\n  field: num2\n"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic9' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic9' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic9"], ["slug", "topic9"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report5' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic9' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report5' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report5"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report5"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic10' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.0ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic10' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic10"], ["slug", "topic10"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report6' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic10' AND "sensit_topics"."id" != 2) LIMIT 1[0m
  [1m[35mSensit::Topic::Report Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report6' AND "sensit_topic_reports"."topic_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report6"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report6"], ["topic_id", 2], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."slug" = 'topic11' LIMIT 1
  [1m[36mSensit::Topic Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topics" WHERE "sensit_topics"."name" = 'Topic11' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "sensit_topics" ("created_at", "name", "slug", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Topic11"], ["slug", "topic11"], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_2
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE "sensit_topic_reports"."slug" = 'report7' LIMIT 1[0m
  [1m[35mSensit::Topic Exists (0.1ms)[0m  SELECT 1 AS one FROM "sensit_topics" WHERE ("sensit_topics"."name" = 'Topic11' AND "sensit_topics"."id" != 1) LIMIT 1
  [1m[36mSensit::Topic::Report Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "sensit_topic_reports" WHERE ("sensit_topic_reports"."name" = 'Report7' AND "sensit_topic_reports"."topic_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "sensit_topic_reports" ("created_at", "name", "query", "slug", "topic_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00], ["name", "Report7"], ["query", "---\n:statistical:\n  :field: num1\n"], ["slug", "report7"], ["topic_id", 1], ["updated_at", Mon, 23 Dec 2013 21:42:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
